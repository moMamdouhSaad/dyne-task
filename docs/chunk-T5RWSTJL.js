import{a as U,b as V,c as W}from"./chunk-J72LKGC5.js";import{L as z,M as H,Q as q,R as G,S as K,T as Y,U as Z,V as J,W as Q,a as P,g as A,j as B,l as x}from"./chunk-R42BILZK.js";import{Ac as D,Cb as j,Cc as y,Kb as R,Lb as h,Mb as M,Ob as w,Pb as v,Qb as I,Rb as k,Ta as r,Tb as $,Ua as g,Ub as L,Wb as F,X as b,Z as p,ca as d,ha as f,k as S,lb as c,nb as o,ub as m,vb as s,wb as l,xb as E,xc as N,yb as O,yc as T}from"./chunk-37GA6J4Z.js";var re=t=>["/menus",t],X=(()=>{let e=class e{constructor(){this.defaultImg="assets/unavailable-img.jpg"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-menu-card"]],inputs:{menu:"menu"},standalone:!0,features:[w([{provide:Y,useClass:Q}]),v],decls:5,vars:6,consts:[["appearance","outlined",1,"custom-card","cursor-pointer","pb-3",3,"routerLink"],[1,"mb-2"],[1,"menu-title","cursor-pointer"],["mat-card-image","","alt","Photo of a menu",1,"menu-img",3,"defaultImage","lazyLoad"]],template:function(i,a){i&1&&(m(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2),h(3),s()(),l(4,"img",3),s()),i&2&&(o("routerLink",k(4,re,a.menu.id)),r(3),M(a.menu.name),r(),o("defaultImage",a.defaultImg)("lazyLoad",a.menu.background))},dependencies:[y,K,z,q,G,H,x,B,J,Z],styles:[".custom-card[_ngcontent-%COMP%]{width:220px}.menu-img[_ngcontent-%COMP%]{height:100px;width:100%;object-fit:cover;transition:opacity .3s ease}.menu-img[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.menu-title[_ngcontent-%COMP%]{color:var(--gold);display:flex!important;justify-content:center!important;transition:opacity .3s ease;font-family:Saira!important}.tag-title[_ngcontent-%COMP%]{font-family:Saira!important}"],changeDetection:0});let t=e;return t})();var ee=(()=>{let e=class e{constructor(n){this.http=n,this.apiBase="https://api.mocki.io/v2/aqprm7yv"}getMenuItems(n){return this.http.get(`${this.apiBase}/menus/${n}`)}getRestaurantMenus(n){return this.http.get(`${this.apiBase}/menus/${n}`)}};e.\u0275fac=function(i){return new(i||e)(d(P))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var te=(()=>{let e=class e{constructor(){this.menuItemsSubject=new S([]),this.restaurantMenus=new S([])}getRestaurantMenus$(){return this.restaurantMenus.asObservable()}setRestaurantMenus(n){this.restaurantMenus.next(n)}getMenuItems$(){return this.menuItemsSubject.asObservable()}setMenuItems(n){this.menuItemsSubject.next(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne=(()=>{let e=class e{constructor(n,i){this.menuService=n,this.menuState=i}loadMenuItems(n){this.menuService.getMenuItems(n).pipe(b(i=>this.menuState.setMenuItems(i))).subscribe()}getMenuItems$(){return this.menuState.getMenuItems$()}loadRestaurantMenus(n){this.menuService.getRestaurantMenus(n).pipe(b(i=>this.menuState.setRestaurantMenus(i))).subscribe()}getRestaurantMenus$(){return this.menuState.getRestaurantMenus$()}setRestaurantMenus(n){this.menuState.setRestaurantMenus(n)}};e.\u0275fac=function(i){return new(i||e)(d(ee),d(te))},e.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue=()=>[],ce=()=>({width:"100%","border-radius":"10px",height:"150px","margin-bottom":"10px"}),pe=()=>({width:"200px","border-radius":"10px",height:"25px"});function le(t,e){if(t&1&&(m(0,"span",8),h(1),s()),t&2){let u=j();r(),M(u.restaurantName)}}function de(t,e){if(t&1&&(m(0,"div")(1,"div",12),l(2,"app-menu-card",13),s()()),t&2){let u=e.$implicit;r(2),o("menu",u)}}function fe(t,e){if(t&1&&(E(0),c(1,de,3,1,"div",11),O()),t&2){let u=e.ngIf;r(),o("ngForOf",u)}}function ge(t,e){if(t&1&&(m(0,"div",9),c(1,fe,2,1,"ng-container",10),$(2,"async"),s()),t&2){let u=j();r(),o("ngIf",L(2,1,u.menus$))}}function he(t,e){t&1&&(m(0,"div",15)(1,"div",12),l(2,"ngx-skeleton-loader",16),s()()),t&2&&(r(2),o("theme",I(1,ce)))}function Me(t,e){t&1&&(m(0,"div",5)(1,"div",6)(2,"div",9),c(3,he,3,2,"div",14),s()()()),t&2&&(r(3),o("ngForOf",I(1,ue).constructor(3)))}function ve(t,e){t&1&&l(0,"ngx-skeleton-loader",16),t&2&&o("theme",I(1,pe))}var Te=(()=>{let e=class e{constructor(n,i,a){this.menuManager=n,this.restaurantManager=i,this.route=a}ngOnInit(){this.loadMenus()}loadMenus(){let n=this.route.snapshot.paramMap.get("restaurantId");this.restaurantManager.loadRestaurants(),this.restaurantManager.getRestaurants$().subscribe(i=>{let a=i.find(C=>C.id==+n);a?(this.restaurantName=a.name,this.menuManager.setRestaurantMenus(a.menus),this.menus$=this.menuManager.getRestaurantMenus$()):console.error("some error occurred")})}};e.\u0275fac=function(i){return new(i||e)(g(ne),g(W),g(A))},e.\u0275cmp=f({type:e,selectors:[["app-menu"]],standalone:!0,features:[v],decls:10,vars:4,consts:[["loading",""],["restaurantNameSkeleton",""],[1,"menu"],[1,"text-center","mb-4","d-flex","flex-column","mt-5"],["class","h3 saira-normal-font",4,"ngIf","ngIfElse"],[1,"container"],[1,"row","justify-content-center"],["class","d-flex justify-content-center flex-wrap gap-4",4,"ngIf","ngIfElse"],[1,"h3","saira-normal-font"],[1,"d-flex","justify-content-center","flex-wrap","gap-4"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-container","d-flex","justify-content-center"],[3,"menu"],["class","col-lg-3 col-md-4 col-sm-6 mb-4",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","col-sm-6","mb-4"],[3,"theme"]],template:function(i,a){if(i&1&&(m(0,"div",2)(1,"div",3),c(2,le,2,1,"span",4),s(),m(3,"div",5)(4,"div",6),c(5,ge,3,3,"div",7),s()()(),c(6,Me,4,2,"ng-template",null,0,F)(8,ve,1,2,"ng-template",null,1,F)),i&2){let C=R(7),ie=R(9);r(2),o("ngIf",a.restaurantName)("ngIfElse",ie),r(3),o("ngIf",a.restaurantName)("ngIfElse",C)}},dependencies:[y,N,T,D,x,X,V,U],styles:[".card-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;height:100%}"]});let t=e;return t})();export{Te as MenuComponent};
